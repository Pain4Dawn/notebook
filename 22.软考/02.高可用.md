# 高可用方法
## 冗余
核心是提高设备冗余，分为网关，中间层，网络层。
+ 备份：文件形式存储
+ 主从副本：主库写库读，同步数据。上层使用nginx，lvs做跳转
+ 同城灾备：抵御机房问题，数据库文件放在不同的机房中，中间层也在不同机房中，但做备份使用，只有一个机房使用
+ 同层双活：数据库单写，存储同步，中间层按照post、get读写数据存储层
+ 两地三中心：两个城市，一个城市使用同城双活，一个使用灾备，同步数据
+ 异地双活：数据库不能使用单写了，因为网络延迟，需要按找业务分开，多数据库写，同步数据库内容。
https://www.zhihu.com/question/48728378
## 存储层构造异地双活
### Kafka如何构造异地双活
