# 概述
redis主要关注高可用，常用的缓存、分布式锁及数据类型
## redis的高可用
### 数据备份
两种模式RDB，fork当前数据然后备份。AOF，记录日志，恢复时根据日志罗盘
### 集群
使用sentinel哨兵模式
## redis使用场景
### 缓存
#### 缓存穿透、缓存击穿、缓存雪崩
+ 缓存穿透：没有缓存，会查数据库影响性能，解决方法：所有KEY都在缓存中，或者bitmap
+ 缓存击穿：一个key失效了。如果key失效了，更新缓存时加锁，在更新时如果锁无法占用则等待
#### 读写分离数据库，保持数据一直性
+ 强制读主库，使用一个高可用的主库，数据库读写都在主库，添加一个缓存，提升数据
读取的性能。
+ 选择性读主库，添加一个缓存，用来记录必须读主库的数据，将哪个库，哪个表，哪个
主键，作为缓存的 key,设置缓存失效的时间为主从库同步的时间，如果缓存当中有这个数
据，直接读取主库，如果缓存当中没有这个主键，就到对应的从库中读取。

### 分布式锁
+ 设置setnx 如果返回true获得锁，执行，执行完成删除锁
+ 如果返回false说明锁没执行

## 相关算法使用
+ LRU :使用链表，如果有更新移到头，让慢了，删除尾巴

## 数据类型
+ string、Hash、List、Set、SortdSet

## 常见问题
+ 一个字符串类型最大存储容量：512M

## Redis事务
保证执行顺序，要不全执行，要不全不执行